{"remainingRequest":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue","mtime":1673729543986},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656262833352},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\babel-loader\\lib\\index.js","mtime":1656262828221},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656262833352},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\vue-loader\\lib\\index.js","mtime":1656262834291}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default {\r\n  name: \"ProdutoAdicionar\",\r\n  data() {\r\n    return {\r\n      produto: {\r\n        nome: \"\",\r\n        preco: \"\",\r\n        descricao: \"\",\r\n        fotos: null,\r\n        vendido: \"false\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    formatarProduto() {\r\n      const form = new FormData();\r\n\r\n      const files = this.$refs.fotos.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        form.append(files[i].name, files[i]);\r\n      }\r\n\r\n      form.append(\"nome\", this.produto.nome);\r\n      form.append(\"preco\", this.produto.preco);\r\n      form.append(\"descricao\", this.produto.descricao);\r\n      form.append(\"vendido\", this.produto.vendido);\r\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\r\n\r\n      return form;\r\n    },\r\n    async adicionarProduto(event) {\r\n      const produto = this.formatarProduto();\r\n\r\n      const button = event.currentTarget;\r\n      button.value = \"Adicionando...\";\r\n      button.setAttribute(\"disabled\", \"\");\r\n\r\n      await api.post(\"/produto\", produto);\r\n      await this.$store.dispatch(\"getUsuarioProdutos\");\r\n\r\n      button.removeAttribute(\"disabled\");\r\n      button.value = \"Adicionar Produto\";\r\n    }\r\n  }\r\n};\r\n",{"version":3,"sources":["ProdutoAdicionar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;AAeA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"ProdutoAdicionar.vue","sourceRoot":"src/components","sourcesContent":["<template>\r\n  <form class=\"adicionar-produto\">\r\n    <label for=\"nome\">Nome</label>\r\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\r\n    <label for=\"preco\">Preço (R$)</label>\r\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\r\n    <label for=\"fotos\">Fotos</label>\r\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\r\n    <label for=\"preco\">Descrição</label>\r\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\r\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default {\r\n  name: \"ProdutoAdicionar\",\r\n  data() {\r\n    return {\r\n      produto: {\r\n        nome: \"\",\r\n        preco: \"\",\r\n        descricao: \"\",\r\n        fotos: null,\r\n        vendido: \"false\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    formatarProduto() {\r\n      const form = new FormData();\r\n\r\n      const files = this.$refs.fotos.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        form.append(files[i].name, files[i]);\r\n      }\r\n\r\n      form.append(\"nome\", this.produto.nome);\r\n      form.append(\"preco\", this.produto.preco);\r\n      form.append(\"descricao\", this.produto.descricao);\r\n      form.append(\"vendido\", this.produto.vendido);\r\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\r\n\r\n      return form;\r\n    },\r\n    async adicionarProduto(event) {\r\n      const produto = this.formatarProduto();\r\n\r\n      const button = event.currentTarget;\r\n      button.value = \"Adicionando...\";\r\n      button.setAttribute(\"disabled\", \"\");\r\n\r\n      await api.post(\"/produto\", produto);\r\n      await this.$store.dispatch(\"getUsuarioProdutos\");\r\n\r\n      button.removeAttribute(\"disabled\");\r\n      button.value = \"Adicionar Produto\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adicionar-produto {\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  align-items: center;\r\n  margin-bottom: 60px;\r\n}\r\n\r\n.btn {\r\n  grid-column: 2;\r\n}\r\n</style>\r\n"]}]}