{"ast":null,"code":"import \"core-js/modules/es.array.unshift.js\";\nimport { createStore } from \"vuex\";\nimport { api } from \"@/services.js\";\nexport default createStore({\n  state() {\n    return {\n      login: false,\n      usuario: {\n        id: \"\",\n        nome: \"\",\n        email: \"\",\n        senha: \"\",\n        cep: \"\",\n        rua: \"\",\n        numero: \"\",\n        bairro: \"\",\n        cidade: \"\",\n        estado: \"\"\n      },\n      usuario_produtos: null\n    };\n  },\n  mutations: {\n    UPDATE_LOGIN(state, payload) {\n      state.login = payload;\n    },\n    UPDATE_USUARIO(state, payload) {\n      state.usuario = Object.assign(state.usuario, payload);\n    },\n    UPDATE_USUARIO_PRODUTOS(state, payload) {\n      state.usuario_produtos = payload;\n    },\n    ADD_USUARIO_PRODUTOS(state, payload) {\n      state.usuario_produtos.unshift(payload);\n    }\n  },\n  actions: {\n    async getUsuarioProdutos(context) {\n      const response = await api.get(`/produto?usuario_id=${context.state.usuario.id}`);\n      context.commit(\"UPDATE_USUARIO_PRODUTOS\", response.data);\n    },\n    async getUsuario(context) {\n      const response = await api.get(`/usuario`);\n      context.commit(\"UPDATE_USUARIO\", response.data);\n      context.commit(\"UPDATE_LOGIN\", true);\n    },\n    async criarUsuario(context, payload) {\n      context.commit(\"UPDATE_USUARIO\", {\n        id: payload.email\n      });\n      await api.post(\"/usuario\", payload);\n    },\n    async logarUsuario(context, payload) {\n      const response = await api.login({\n        username: payload.email,\n        password: payload.senha\n      });\n      window.localStorage.token = `Bearer ${response.data.token}`;\n    },\n    deslogarUsuario(context) {\n      context.commit(\"UPDATE_USUARIO\", {\n        id: \"\",\n        nome: \"\",\n        email: \"\",\n        senha: \"\",\n        cep: \"\",\n        rua: \"\",\n        numero: \"\",\n        bairro: \"\",\n        cidade: \"\",\n        estado: \"\"\n      });\n      window.localStorage.removeItem(\"token\");\n      context.commit(\"UPDATE_LOGIN\", false);\n    }\n  },\n  strict: true\n});","map":{"version":3,"names":["createStore","api","state","login","usuario","id","nome","email","senha","cep","rua","numero","bairro","cidade","estado","usuario_produtos","mutations","UPDATE_LOGIN","payload","UPDATE_USUARIO","Object","assign","UPDATE_USUARIO_PRODUTOS","ADD_USUARIO_PRODUTOS","unshift","actions","getUsuarioProdutos","context","response","get","commit","data","getUsuario","criarUsuario","post","logarUsuario","username","password","window","localStorage","token","deslogarUsuario","removeItem","strict"],"sources":["C:/Users/Thiago/Desktop/projetos/vue/ranek/vue-ranek/src/store.js"],"sourcesContent":["import { createStore } from \"vuex\";\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default createStore({\r\n  state() {\r\n    return {\r\n      login: false,\r\n      usuario: {\r\n        id: \"\",\r\n        nome: \"\",\r\n        email: \"\",\r\n        senha: \"\",\r\n        cep: \"\",\r\n        rua: \"\",\r\n        numero: \"\",\r\n        bairro: \"\",\r\n        cidade: \"\",\r\n        estado: \"\"\r\n      },\r\n      usuario_produtos: null\r\n    };\r\n  },\r\n  mutations: {\r\n    UPDATE_LOGIN(state, payload) {\r\n      state.login = payload;\r\n    },\r\n    UPDATE_USUARIO(state, payload) {\r\n      state.usuario = Object.assign(state.usuario, payload);\r\n    },\r\n    UPDATE_USUARIO_PRODUTOS(state, payload) {\r\n      state.usuario_produtos = payload;\r\n    },\r\n    ADD_USUARIO_PRODUTOS(state, payload) {\r\n      state.usuario_produtos.unshift(payload);\r\n    }\r\n  },\r\n  actions: {\r\n    async getUsuarioProdutos(context) {\r\n      const response = await api.get(`/produto?usuario_id=${context.state.usuario.id}`);\r\n      context.commit(\"UPDATE_USUARIO_PRODUTOS\", response.data);\r\n    },\r\n    async getUsuario(context) {\r\n      const response = await api.get(`/usuario`);\r\n      context.commit(\"UPDATE_USUARIO\", response.data);\r\n      context.commit(\"UPDATE_LOGIN\", true);\r\n    },\r\n    async criarUsuario(context, payload) {\r\n      context.commit(\"UPDATE_USUARIO\", { id: payload.email });\r\n      await api.post(\"/usuario\", payload);\r\n    },\r\n    async logarUsuario(context, payload) {\r\n      const response = await api.login({\r\n        username: payload.email,\r\n        password: payload.senha\r\n      });\r\n      window.localStorage.token = `Bearer ${response.data.token}`;\r\n    },\r\n    deslogarUsuario(context) {\r\n      context.commit(\"UPDATE_USUARIO\", {\r\n        id: \"\",\r\n        nome: \"\",\r\n        email: \"\",\r\n        senha: \"\",\r\n        cep: \"\",\r\n        rua: \"\",\r\n        numero: \"\",\r\n        bairro: \"\",\r\n        cidade: \"\",\r\n        estado: \"\"\r\n      });\r\n      window.localStorage.removeItem(\"token\");\r\n      context.commit(\"UPDATE_LOGIN\", false);\r\n    }\r\n  },\r\n  strict: true\r\n});\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}