{"remainingRequest":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue","mtime":1673729543986},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\babel.config.js","mtime":1673729535556},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656262833352},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\babel-loader\\lib\\index.js","mtime":1656262828221},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1656262833352},{"path":"C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\node_modules\\vue-loader\\lib\\index.js","mtime":1656262834291}],"contextDependencies":[],"result":["import \"regenerator-runtime/runtime\";\nimport _asyncToGenerator from \"C:/Users/Thiago/Desktop/projetos/vue/ranek/vue-ranek/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport \"core-js/modules/es6.function.name\";\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { api } from \"@/services.js\";\nexport default {\n  name: \"ProdutoAdicionar\",\n  data: function data() {\n    return {\n      produto: {\n        nome: \"\",\n        preco: \"\",\n        descricao: \"\",\n        fotos: null,\n        vendido: \"false\"\n      }\n    };\n  },\n  methods: {\n    formatarProduto: function formatarProduto() {\n      var form = new FormData();\n      var files = this.$refs.fotos.files;\n\n      for (var i = 0; i < files.length; i++) {\n        form.append(files[i].name, files[i]);\n      }\n\n      form.append(\"nome\", this.produto.nome);\n      form.append(\"preco\", this.produto.preco);\n      form.append(\"descricao\", this.produto.descricao);\n      form.append(\"vendido\", this.produto.vendido);\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\n      return form;\n    },\n    adicionarProduto: function () {\n      var _adicionarProduto = _asyncToGenerator( /*#__PURE__*/regeneratorRuntime.mark(function _callee(event) {\n        var produto, button;\n        return regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                produto = this.formatarProduto();\n                button = event.currentTarget;\n                button.value = \"Adicionando...\";\n                button.setAttribute(\"disabled\", \"\");\n                _context.next = 6;\n                return api.post(\"/produto\", produto);\n\n              case 6:\n                _context.next = 8;\n                return this.$store.dispatch(\"getUsuarioProdutos\");\n\n              case 8:\n                button.removeAttribute(\"disabled\");\n                button.value = \"Adicionar Produto\";\n\n              case 10:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n\n      function adicionarProduto(_x) {\n        return _adicionarProduto.apply(this, arguments);\n      }\n\n      return adicionarProduto;\n    }()\n  }\n};",{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAeA;AAEA;EACAA,wBADA;EAEAC,IAFA,kBAEA;IACA;MACAC;QACAC,QADA;QAEAC,SAFA;QAGAC,aAHA;QAIAC,WAJA;QAKAC;MALA;IADA;EASA,CAZA;EAaAC;IACAC,eADA,6BACA;MACA;MAEA;;MACA;QACAC;MACA;;MAEAA;MACAA;MACAA;MACAA;MACAA;MAEA;IACA,CAhBA;IAiBAC,gBAjBA;MAAA,iGAiBAC,KAjBA;QAAA;QAAA;UAAA;YAAA;cAAA;gBAkBAV,OAlBA,GAkBA,sBAlBA;gBAoBAW,MApBA,GAoBAD,mBApBA;gBAqBAC;gBACAA;gBAtBA;gBAAA,OAwBAC,6BAxBA;;cAAA;gBAAA;gBAAA,OAyBA,0CAzBA;;cAAA;gBA2BAD;gBACAA;;cA5BA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;;MAAA;QAAA;MAAA;;MAAA;IAAA;EAAA;AAbA","names":["name","data","produto","nome","preco","descricao","fotos","vendido","methods","formatarProduto","form","adicionarProduto","event","button","api"],"sourceRoot":"src/components","sources":["ProdutoAdicionar.vue"],"sourcesContent":["<template>\r\n  <form class=\"adicionar-produto\">\r\n    <label for=\"nome\">Nome</label>\r\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\r\n    <label for=\"preco\">Preço (R$)</label>\r\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\r\n    <label for=\"fotos\">Fotos</label>\r\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\r\n    <label for=\"preco\">Descrição</label>\r\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\r\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default {\r\n  name: \"ProdutoAdicionar\",\r\n  data() {\r\n    return {\r\n      produto: {\r\n        nome: \"\",\r\n        preco: \"\",\r\n        descricao: \"\",\r\n        fotos: null,\r\n        vendido: \"false\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    formatarProduto() {\r\n      const form = new FormData();\r\n\r\n      const files = this.$refs.fotos.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        form.append(files[i].name, files[i]);\r\n      }\r\n\r\n      form.append(\"nome\", this.produto.nome);\r\n      form.append(\"preco\", this.produto.preco);\r\n      form.append(\"descricao\", this.produto.descricao);\r\n      form.append(\"vendido\", this.produto.vendido);\r\n      form.append(\"usuario_id\", this.$store.state.usuario.id);\r\n\r\n      return form;\r\n    },\r\n    async adicionarProduto(event) {\r\n      const produto = this.formatarProduto();\r\n\r\n      const button = event.currentTarget;\r\n      button.value = \"Adicionando...\";\r\n      button.setAttribute(\"disabled\", \"\");\r\n\r\n      await api.post(\"/produto\", produto);\r\n      await this.$store.dispatch(\"getUsuarioProdutos\");\r\n\r\n      button.removeAttribute(\"disabled\");\r\n      button.value = \"Adicionar Produto\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adicionar-produto {\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  align-items: center;\r\n  margin-bottom: 60px;\r\n}\r\n\r\n.btn {\r\n  grid-column: 2;\r\n}\r\n</style>\r\n"]}]}