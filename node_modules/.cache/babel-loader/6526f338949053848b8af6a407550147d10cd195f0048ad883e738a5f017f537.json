{"ast":null,"code":"import { createElementVNode as _createElementVNode, vModelText as _vModelText, withDirectives as _withDirectives, withModifiers as _withModifiers, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\nconst _withScopeId = n => (_pushScopeId(\"data-v-b09b38da\"), n = n(), _popScopeId(), n);\nconst _hoisted_1 = {\n  class: \"adicionar-produto\"\n};\nconst _hoisted_2 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"nome\"\n}, \"Nome\", -1 /* HOISTED */));\nconst _hoisted_3 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"preco\"\n}, \"Preço (R$)\", -1 /* HOISTED */));\nconst _hoisted_4 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"fotos\"\n}, \"Fotos\", -1 /* HOISTED */));\nconst _hoisted_5 = {\n  id: \"fotos\",\n  name: \"fotos\",\n  type: \"file\",\n  multiple: \"\",\n  ref: \"fotos\"\n};\nconst _hoisted_6 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"label\", {\n  for: \"preco\"\n}, \"Descrição\", -1 /* HOISTED */));\n\nexport function render(_ctx, _cache, $props, $setup, $data, $options) {\n  return _openBlock(), _createElementBlock(\"form\", _hoisted_1, [_hoisted_2, _withDirectives(_createElementVNode(\"input\", {\n    id: \"nome\",\n    name: \"nome\",\n    type: \"text\",\n    \"onUpdate:modelValue\": _cache[0] || (_cache[0] = $event => $data.produto.nome = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.produto.nome]]), _hoisted_3, _withDirectives(_createElementVNode(\"input\", {\n    id: \"preco\",\n    name: \"preco\",\n    type: \"number\",\n    \"onUpdate:modelValue\": _cache[1] || (_cache[1] = $event => $data.produto.preco = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.produto.preco]]), _hoisted_4, _createElementVNode(\"input\", _hoisted_5, null, 512 /* NEED_PATCH */), _hoisted_6, _withDirectives(_createElementVNode(\"textarea\", {\n    id: \"preco\",\n    name: \"preco\",\n    \"onUpdate:modelValue\": _cache[2] || (_cache[2] = $event => $data.produto.descricao = $event)\n  }, null, 512 /* NEED_PATCH */), [[_vModelText, $data.produto.descricao]]), _createElementVNode(\"input\", {\n    class: \"btn\",\n    type: \"button\",\n    value: \"Adicionar Produto\",\n    onClick: _cache[3] || (_cache[3] = _withModifiers((...args) => $options.adicionarProduto && $options.adicionarProduto(...args), [\"prevent\"]))\n  })]);\n}","map":{"version":3,"names":["class","_createElementVNode","for","id","name","type","multiple","ref","_createElementBlock","_hoisted_1","_hoisted_2","$data","produto","nome","$event","_hoisted_3","preco","_hoisted_4","_hoisted_5","_hoisted_6","descricao","value","onClick","_cache","_withModifiers","args","$options","adicionarProduto"],"sources":["C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue"],"sourcesContent":["<template>\r\n  <form class=\"adicionar-produto\">\r\n    <label for=\"nome\">Nome</label>\r\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\r\n    <label for=\"preco\">Preço (R$)</label>\r\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\r\n    <label for=\"fotos\">Fotos</label>\r\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\r\n    <label for=\"preco\">Descrição</label>\r\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\r\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default {\r\n  name: \"ProdutoAdicionar\",\r\n  data() {\r\n    return {\r\n      produto: {\r\n        nome: \"\",\r\n        preco: \"\",\r\n        descricao: \"\",\r\n        fotos: null,\r\n        vendido: \"false\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    formatarProduto() {\r\n      const form = new FormData();\r\n\r\n      const files = this.$refs.fotos.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        form.append(files[i].name, files[i]);\r\n      }\r\n\r\n      form.append(\"nome\", this.produto.nome);\r\n      form.append(\"preco\", this.produto.preco);\r\n      form.append(\"descricao\", this.produto.descricao);\r\n      form.append(\"vendido\", this.produto.vendido);\r\n      form.append(\"usuario_id\", this.$store?.state.usuario.id);\r\n\r\n      return form;\r\n    },\r\n    async adicionarProduto(event) {\r\n      const produto = this.formatarProduto();\r\n\r\n      const button = event.currentTarget;\r\n      button.value = \"Adicionando...\";\r\n      button.setAttribute(\"disabled\", \"\");\r\n\r\n      await api.post(\"/produto\", produto);\r\n      await this.$store.dispatch(\"getUsuarioProdutos\");\r\n\r\n      button.removeAttribute(\"disabled\");\r\n      button.value = \"Adicionar Produto\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adicionar-produto {\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  align-items: center;\r\n  margin-bottom: 60px;\r\n}\r\n\r\n.btn {\r\n  grid-column: 2;\r\n}\r\n</style>\r\n"],"mappings":";;;EACQA,KAAK,EAAC;AAAmB;gEAC7BC,mBAAA,CAA8B;EAAvBC,GAAG,EAAC;AAAM,GAAC,MAAI;gEAEtBD,mBAAA,CAAqC;EAA9BC,GAAG,EAAC;AAAO,GAAC,YAAU;gEAE7BD,mBAAA,CAAgC;EAAzBC,GAAG,EAAC;AAAO,GAAC,OAAK;;EACjBC,EAAE,EAAC,OAAO;EAACC,IAAI,EAAC,OAAO;EAACC,IAAI,EAAC,MAAM;EAACC,QAAQ,EAAR,EAAQ;EAACC,GAAG,EAAC;;gEACxDN,mBAAA,CAAoC;EAA7BC,GAAG,EAAC;AAAO,GAAC,WAAS;;;uBAP9BM,mBAAA,CAUO,QAVPC,UAUO,GATLC,UAA8B,E,gBAC9BT,mBAAA,CAAgE;IAAzDE,EAAE,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;IAACC,IAAI,EAAC,MAAM;+DAAUM,KAAA,CAAAC,OAAO,CAACC,IAAI,GAAAC,MAAA;iDAAZH,KAAA,CAAAC,OAAO,CAACC,IAAI,E,GAC9DE,UAAqC,E,gBACrCd,mBAAA,CAAqE;IAA9DE,EAAE,EAAC,OAAO;IAACC,IAAI,EAAC,OAAO;IAACC,IAAI,EAAC,QAAQ;+DAAUM,KAAA,CAAAC,OAAO,CAACI,KAAK,GAAAF,MAAA;iDAAbH,KAAA,CAAAC,OAAO,CAACI,KAAK,E,GACnEC,UAAgC,EAChChB,mBAAA,CAAgE,SAAhEiB,UAAgE,+BAChEC,UAAoC,E,gBACpClB,mBAAA,CAAyE;IAA/DE,EAAE,EAAC,OAAO;IAACC,IAAI,EAAC,OAAO;+DAAUO,KAAA,CAAAC,OAAO,CAACQ,SAAS,GAAAN,MAAA;iDAAjBH,KAAA,CAAAC,OAAO,CAACQ,SAAS,E,GAC5DnB,mBAAA,CAA6F;IAAtFD,KAAK,EAAC,KAAK;IAACK,IAAI,EAAC,QAAQ;IAACgB,KAAK,EAAC,mBAAmB;IAAEC,OAAK,EAAAC,MAAA,QAAAA,MAAA,MAAAC,cAAA,KAAAC,IAAA,KAAUC,QAAA,CAAAC,gBAAA,IAAAD,QAAA,CAAAC,gBAAA,IAAAF,IAAA,CAAgB"},"metadata":{},"sourceType":"module","externalDependencies":[]}