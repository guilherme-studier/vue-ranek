{"ast":null,"code":"import { api } from \"@/services.js\";\nexport default {\n  name: \"ProdutoAdicionar\",\n  data() {\n    return {\n      produto: {\n        nome: \"\",\n        preco: \"\",\n        descricao: \"\",\n        fotos: null,\n        vendido: \"false\"\n      }\n    };\n  },\n  methods: {\n    formatarProduto() {\n      const form = new FormData();\n      const files = this.$refs.fotos.files;\n      for (let i = 0; i < files.length; i++) {\n        form.append(files[i].name, files[i]);\n      }\n      form.append(\"nome\", this.produto.nome);\n      form.append(\"preco\", this.produto.preco);\n      form.append(\"descricao\", this.produto.descricao);\n      form.append(\"vendido\", this.produto.vendido);\n      form.append(\"usuario_id\", this.$store?.state.usuario.id);\n      return form;\n    },\n    async adicionarProduto(event) {\n      const produto = this.formatarProduto();\n      const button = event.currentTarget;\n      button.value = \"Adicionando...\";\n      button.setAttribute(\"disabled\", \"\");\n      await api.post(\"/produto\", produto);\n      await this.$store.dispatch(\"getUsuarioProdutos\");\n      button.removeAttribute(\"disabled\");\n      button.value = \"Adicionar Produto\";\n    }\n  }\n};","map":{"version":3,"names":["api","name","data","produto","nome","preco","descricao","fotos","vendido","methods","formatarProduto","form","FormData","files","$refs","i","length","append","$store","state","usuario","id","adicionarProduto","event","button","currentTarget","value","setAttribute","post","dispatch","removeAttribute"],"sources":["C:\\Users\\Thiago\\Desktop\\projetos\\vue\\ranek\\vue-ranek\\src\\components\\ProdutoAdicionar.vue"],"sourcesContent":["<template>\r\n  <form class=\"adicionar-produto\">\r\n    <label for=\"nome\">Nome</label>\r\n    <input id=\"nome\" name=\"nome\" type=\"text\" v-model=\"produto.nome\">\r\n    <label for=\"preco\">Preço (R$)</label>\r\n    <input id=\"preco\" name=\"preco\" type=\"number\" v-model=\"produto.preco\">\r\n    <label for=\"fotos\">Fotos</label>\r\n    <input id=\"fotos\" name=\"fotos\" type=\"file\" multiple ref=\"fotos\">\r\n    <label for=\"preco\">Descrição</label>\r\n    <textarea id=\"preco\" name=\"preco\" v-model=\"produto.descricao\"></textarea>\r\n    <input class=\"btn\" type=\"button\" value=\"Adicionar Produto\" @click.prevent=\"adicionarProduto\">\r\n  </form>\r\n</template>\r\n\r\n<script>\r\nimport { api } from \"@/services.js\";\r\n\r\nexport default {\r\n  name: \"ProdutoAdicionar\",\r\n  data() {\r\n    return {\r\n      produto: {\r\n        nome: \"\",\r\n        preco: \"\",\r\n        descricao: \"\",\r\n        fotos: null,\r\n        vendido: \"false\"\r\n      }\r\n    };\r\n  },\r\n  methods: {\r\n    formatarProduto() {\r\n      const form = new FormData();\r\n\r\n      const files = this.$refs.fotos.files;\r\n      for (let i = 0; i < files.length; i++) {\r\n        form.append(files[i].name, files[i]);\r\n      }\r\n\r\n      form.append(\"nome\", this.produto.nome);\r\n      form.append(\"preco\", this.produto.preco);\r\n      form.append(\"descricao\", this.produto.descricao);\r\n      form.append(\"vendido\", this.produto.vendido);\r\n      form.append(\"usuario_id\", this.$store?.state.usuario.id);\r\n\r\n      return form;\r\n    },\r\n    async adicionarProduto(event) {\r\n      const produto = this.formatarProduto();\r\n\r\n      const button = event.currentTarget;\r\n      button.value = \"Adicionando...\";\r\n      button.setAttribute(\"disabled\", \"\");\r\n\r\n      await api.post(\"/produto\", produto);\r\n      await this.$store.dispatch(\"getUsuarioProdutos\");\r\n\r\n      button.removeAttribute(\"disabled\");\r\n      button.value = \"Adicionar Produto\";\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style scoped>\r\n.adicionar-produto {\r\n  display: grid;\r\n  grid-template-columns: 100px 1fr;\r\n  align-items: center;\r\n  margin-bottom: 60px;\r\n}\r\n\r\n.btn {\r\n  grid-column: 2;\r\n}\r\n</style>\r\n"],"mappings":"AAeA,SAASA,GAAE,QAAS,eAAe;AAEnC,eAAe;EACbC,IAAI,EAAE,kBAAkB;EACxBC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,OAAO,EAAE;QACPC,IAAI,EAAE,EAAE;QACRC,KAAK,EAAE,EAAE;QACTC,SAAS,EAAE,EAAE;QACbC,KAAK,EAAE,IAAI;QACXC,OAAO,EAAE;MACX;IACF,CAAC;EACH,CAAC;EACDC,OAAO,EAAE;IACPC,eAAeA,CAAA,EAAG;MAChB,MAAMC,IAAG,GAAI,IAAIC,QAAQ,EAAE;MAE3B,MAAMC,KAAI,GAAI,IAAI,CAACC,KAAK,CAACP,KAAK,CAACM,KAAK;MACpC,KAAK,IAAIE,CAAA,GAAI,CAAC,EAAEA,CAAA,GAAIF,KAAK,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;QACrCJ,IAAI,CAACM,MAAM,CAACJ,KAAK,CAACE,CAAC,CAAC,CAACd,IAAI,EAAEY,KAAK,CAACE,CAAC,CAAC,CAAC;MACtC;MAEAJ,IAAI,CAACM,MAAM,CAAC,MAAM,EAAE,IAAI,CAACd,OAAO,CAACC,IAAI,CAAC;MACtCO,IAAI,CAACM,MAAM,CAAC,OAAO,EAAE,IAAI,CAACd,OAAO,CAACE,KAAK,CAAC;MACxCM,IAAI,CAACM,MAAM,CAAC,WAAW,EAAE,IAAI,CAACd,OAAO,CAACG,SAAS,CAAC;MAChDK,IAAI,CAACM,MAAM,CAAC,SAAS,EAAE,IAAI,CAACd,OAAO,CAACK,OAAO,CAAC;MAC5CG,IAAI,CAACM,MAAM,CAAC,YAAY,EAAE,IAAI,CAACC,MAAM,EAAEC,KAAK,CAACC,OAAO,CAACC,EAAE,CAAC;MAExD,OAAOV,IAAI;IACb,CAAC;IACD,MAAMW,gBAAgBA,CAACC,KAAK,EAAE;MAC5B,MAAMpB,OAAM,GAAI,IAAI,CAACO,eAAe,EAAE;MAEtC,MAAMc,MAAK,GAAID,KAAK,CAACE,aAAa;MAClCD,MAAM,CAACE,KAAI,GAAI,gBAAgB;MAC/BF,MAAM,CAACG,YAAY,CAAC,UAAU,EAAE,EAAE,CAAC;MAEnC,MAAM3B,GAAG,CAAC4B,IAAI,CAAC,UAAU,EAAEzB,OAAO,CAAC;MACnC,MAAM,IAAI,CAACe,MAAM,CAACW,QAAQ,CAAC,oBAAoB,CAAC;MAEhDL,MAAM,CAACM,eAAe,CAAC,UAAU,CAAC;MAClCN,MAAM,CAACE,KAAI,GAAI,mBAAmB;IACpC;EACF;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}